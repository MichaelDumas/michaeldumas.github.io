import{getRandomPositiveInteger}from"../../lib/RandomNumberHelpers.js";import{CANVAS_HEIGHT,CANVAS_WIDTH}from"../globals.js";import Tile from"./Tile.js";export default class RoomFactory{static WIDTH=CANVAS_WIDTH/Tile.TILE_SIZE-2;static HEIGHT=Math.floor(CANVAS_HEIGHT/Tile.TILE_SIZE)-2;static RENDER_OFFSET_X=(CANVAS_WIDTH-RoomFactory.WIDTH*Tile.TILE_SIZE)/2;static RENDER_OFFSET_Y=(CANVAS_HEIGHT-RoomFactory.HEIGHT*Tile.TILE_SIZE)/2;static MAX_ROOM_IDX=3;static COLLIDABLE_SPRITES=[0,2,3,4,20,57,18,58,69,59,76,95,114,22,78,79,80,23,77,115,96,183,201,202,19,183,21,38,40,83,182,166,143,35,36,109,89,108,105,86,108,109,120,103,121,85,70,80,73,74,92,93,111,112,130,131,149,150,168,169];static ROOM1_LAYOUT=[3,57,58,59,202,57,57,58,59,57,18,18,57,57,58,59,58,57,57,58,59,4,76,166,166,8,143,10,25,87,6,29,8,26,106,11,30,6,31,35,36,109,70,77,95,6,64,48,9,10,11,106,106,47,8,9,44,11,12,88,87,8,35,36,89,77,114,28,7,8,86,107,11,12,6,68,8,28,10,88,12,6,7,8,9,9,108,115,183,83,83,103,121,10,11,12,6,7,8,107,10,11,12,6,7,30,9,10,11,96,114,70,108,105,9,10,11,12,6,7,8,9,64,11,12,6,27,28,9,10,25,96,76,89,109,120,83,83,83,85,6,7,87,87,10,88,12,6,7,106,9,10,31,77,76,28,87,8,9,10,11,107,6,7,8,9,10,11,12,6,7,27,9,10,11,115,95,6,106,87,9,87,11,12,6,7,8,27,10,11,107,6,7,8,86,10,30,96,95,25,7,8,9,10,11,12,6,7,8,87,10,11,27,6,7,8,105,10,167,77,22,78,79,80,80,78,80,79,78,79,18,18,78,80,78,78,78,80,201,79,78,23];static ROOM2_LAYOUT=[3,57,58,59,58,57,57,58,59,57,18,18,57,57,58,59,58,57,57,58,59,4,76,27,7,8,6,30,26,25,45,11,30,6,106,31,63,26,12,25,10,6,8,115,95,10,8,9,28,11,31,7,28,106,6,10,25,28,27,28,27,27,88,9,6,96,114,11,12,27,6,26,0,2,6,26,11,12,10,25,0,2,29,27,11,29,25,77,95,46,27,27,7,48,19,183,83,83,83,83,83,83,182,21,30,28,10,65,26,115,114,44,68,10,12,9,19,21,69,69,69,69,69,69,19,21,29,6,9,26,10,77,76,25,26,7,67,10,19,183,83,83,83,83,83,83,182,21,28,12,25,50,11,96,114,26,27,45,28,29,38,40,29,44,11,27,30,44,38,40,6,8,27,8,6,115,95,29,7,6,30,25,9,12,46,28,8,26,6,26,10,8,66,10,26,12,10,77,76,11,8,10,7,88,7,6,10,106,87,25,12,27,6,29,49,9,107,25,8,96,22,78,80,79,78,80,80,78,79,80,18,18,80,80,78,79,78,80,80,78,79,23];static ROOM3_LAYOUT=[3,57,58,59,58,57,57,58,59,57,18,18,57,57,58,59,58,57,57,58,59,4,76,66,7,8,6,30,26,25,45,11,30,6,106,31,63,26,12,25,10,6,8,115,95,10,8,73,74,11,7,7,7,7,7,10,25,28,25,28,27,130,131,9,6,96,114,11,12,92,93,26,11,11,7,11,11,11,7,11,7,11,29,149,150,25,25,77,95,46,27,111,112,48,11,11,7,11,11,11,7,11,7,11,30,168,169,65,26,115,114,44,68,10,12,9,11,11,7,11,11,11,7,11,7,11,29,6,9,26,10,77,22,80,80,80,2,10,11,11,7,11,11,11,7,11,7,11,28,0,80,80,80,23,20,20,20,20,21,29,11,11,7,11,11,11,7,11,7,11,6,19,20,20,20,20,20,20,20,20,21,25,9,12,46,28,8,26,6,26,10,8,66,19,20,20,20,20,20,20,20,20,21,88,7,6,10,106,87,25,12,27,6,29,49,19,20,20,20,20,20,20,20,20,22,80,80,78,79,80,18,18,80,80,78,79,78,23,20,20,20,20];static ROOM4_LAYOUT=[3,57,58,59,58,57,57,58,59,57,18,18,57,57,58,59,58,57,57,58,59,4,76,25,7,8,6,30,26,25,45,11,30,6,106,31,63,26,12,25,10,6,8,115,95,10,8,9,28,11,31,7,28,106,6,10,25,28,25,28,27,27,88,9,6,96,114,11,12,27,6,26,25,107,6,26,11,12,10,25,25,107,29,27,11,29,25,77,95,46,27,27,7,48,68,45,8,6,30,8,87,8,106,27,30,28,10,65,26,115,114,44,68,10,12,9,6,50,27,9,29,10,87,9,107,28,29,6,9,26,10,77,76,25,26,7,67,10,27,88,28,87,6,28,8,30,27,50,28,12,25,50,11,96,114,26,27,45,28,29,45,50,29,27,11,27,30,27,45,50,6,8,27,8,6,115,95,29,7,6,30,25,9,12,46,28,8,26,6,26,10,8,66,10,26,12,10,77,76,11,8,10,7,88,7,6,10,106,87,25,12,27,6,29,49,9,107,25,8,96,22,78,80,79,78,80,80,78,79,80,18,18,80,80,78,79,78,80,80,78,79,23];static CreateRoom(t,o=null){let s;switch(s=null==o?getRandomPositiveInteger(0,RoomFactory.MAX_ROOM_IDX):o,t.roomId=s,s){case 0:return this.RoomTiles(t,this.ROOM1_LAYOUT);case 1:return this.RoomTiles(t,this.ROOM2_LAYOUT);case 2:return this.RoomTiles(t,this.ROOM3_LAYOUT);case 3:return this.RoomTiles(t,this.ROOM4_LAYOUT)}}static RoomTiles(t,o){const s=[];for(let i=0;i<t.dimensions.y;i++){s.push([]);for(let e=0;e<t.dimensions.x;e++){let T=o[e+i*t.dimensions.x];s[i].push(new Tile(e,i,RoomFactory.RENDER_OFFSET_X,RoomFactory.RENDER_OFFSET_Y,t.sprites[T],T))}}return s}}