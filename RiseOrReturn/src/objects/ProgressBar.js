import{roundedRectangle}from"../../lib/DrawingHelpers.js";import Vector from"../../lib/Vector.js";import{context,timer}from"../globals.js";import Tile from"./Tile.js";export default class ProgressBar{constructor(e,t,i,s,r,h){this.position=new Vector(e*Tile.TILE_SIZE,t*Tile.TILE_SIZE),this.dimensions=new Vector(i*Tile.TILE_SIZE,s*Tile.TILE_SIZE),this.width=i,this.height=s,this.x=e,this.y=t,this.isTweening=!1,this.enemy=h,this.maxValue=this.enemy.totalHealth,this.currentValue=this.enemy.health,this.borderColour="#000000",this.panelColour="#FF0000",this.padding=r.padding??20,this.isVisible=!0}render(){this.isVisible&&(context.save(),this.renderBackground(),this.renderForeground(),context.restore())}renderBackground(){context.fillStyle=this.borderColour,roundedRectangle(context,this.x,this.y,this.width+5,this.height+5,5,!0,!1)}renderForeground(){context.fillStyle=this.panelColour,this.isTweening||(this.isTweening=!0,timer.tween(this,["currentValue"],[this.enemy.health],.3,(()=>{this.isTweening=!1}))),roundedRectangle(context,this.x+2,this.y+2,this.currentValue/this.maxValue*this.width,this.height,5,!0,!1)}}