import Animation from"../../../../lib/Animation.js";import State from"../../../../lib/State.js";import Player from"../../../entities/Player.js";import Direction from"../../../enums/Direction.js";import PlayerStateName from"../../../enums/PlayerStateName.js";import EquipementName from"../../../enums/EquipementName.js";import{keys}from"../../../globals.js";export default class PlayerIdlingState extends State{constructor(e){super(),this.player=e,this.animation={[Direction.Up]:new Animation([10,11,12,13,14],.2),[Direction.Down]:new Animation([0,1,2,3,4],.2),[Direction.Left]:new Animation([15,16,17,18,19],.2),[Direction.Right]:new Animation([5,6,7,8,9],.2)}}enter(){null!=this.player.currentAnimation&&this.player.currentAnimation.refresh(),this.player.sprites=this.player.idleSprites,this.player.currentAnimation=this.animation[this.player.direction]}update(){this.checkForMovement(),this.checkForSwordSwing()}checkForMovement(){keys.s?(this.player.direction=Direction.Down,this.player.changeState(PlayerStateName.Walking)):keys.d?(this.player.direction=Direction.Right,this.player.changeState(PlayerStateName.Walking)):keys.w?(this.player.direction=Direction.Up,this.player.changeState(PlayerStateName.Walking)):keys.a&&(this.player.direction=Direction.Left,this.player.changeState(PlayerStateName.Walking))}checkForSwordSwing(){if(keys[" "]&&this.player.changeState(PlayerStateName.SwordSwinging),keys.Enter&&(keys.Enter=!1,1==this.player.equipment.usable))switch(this.player.equipment.type){case EquipementName.FlashBoots:this.player.useFlashBoots();break;case EquipementName.MerlinPotion:this.player.useMerlinPotion();break;case EquipementName.DiamondChestPlate:this.player.useChestPlate()}}}