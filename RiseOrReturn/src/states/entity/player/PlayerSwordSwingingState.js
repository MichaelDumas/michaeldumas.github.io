import Animation from"../../../../lib/Animation.js";import State from"../../../../lib/State.js";import Player from"../../../entities/Player.js";import Direction from"../../../enums/Direction.js";import PlayerStateName from"../../../enums/PlayerStateName.js";import SoundName from"../../../enums/SoundName.js";import{sounds}from"../../../globals.js";export default class PlayerSwordSwingingState extends State{constructor(i){super(),this.player=i}enter(){this.player.currentAnimation.refresh(),sounds.play(SoundName.Sword),this.player.positionOffset={x:0,y:0},this.player.sprites=this.player.swordSwingingSprites,this.animation={[Direction.Up]:new Animation([12,13,14,15,16,17],this.player.attackSpeed,1),[Direction.Down]:new Animation([0,1,2,3,4,5],this.player.attackSpeed,1),[Direction.Left]:new Animation([18,19,20,21,22,23],this.player.attackSpeed,1),[Direction.Right]:new Animation([6,7,8,9,10,11],this.player.attackSpeed,1)},this.player.currentAnimation=this.animation[this.player.direction]}exit(){this.player.currentAnimation.refresh(),this.player.positionOffset={x:0,y:0},this.player.swordHitbox.set(0,0,0,0)}update(){this.player.currentAnimation.isDone()&&(this.player.currentAnimation.refresh(),this.player.changeState(PlayerStateName.Idle)),this.player.currentAnimation.isHalfwayDone()&&this.setSwordHitbox()}setSwordHitbox(){let i,t,e,s;this.player.direction===Direction.Left?(e=.75*this.player.dimensions.x,s=this.player.dimensions.x,i=this.player.position.x,t=this.player.position.y+.75*this.player.dimensions.y):this.player.direction===Direction.Right?(e=.75*this.player.dimensions.x,s=this.player.dimensions.x,i=this.player.position.x+.75*this.player.dimensions.x+this.player.hitbox.dimensions.x,t=this.player.position.y+.75*this.player.dimensions.y):this.player.direction===Direction.Up?(e=this.player.dimensions.x,s=.75*this.player.dimensions.x,i=this.player.position.x+this.player.dimensions.x/2,t=this.player.position.y+this.player.dimensions.y/2):(e=this.player.dimensions.x,s=.75*this.player.dimensions.x,i=this.player.position.x+this.player.dimensions.x/2,t=this.player.position.y+this.player.dimensions.y+this.player.hitbox.dimensions.y),this.player.swordHitbox.set(i,t,e,s)}}