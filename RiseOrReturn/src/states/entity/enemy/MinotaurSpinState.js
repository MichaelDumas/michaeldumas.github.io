import Animation from"../../../../lib/Animation.js";import Hitbox from"../../../../lib/Hitbox.js";import{getRandomPositiveInteger}from"../../../../lib/RandomNumberHelpers.js";import State from"../../../../lib/State.js";import Enemy from"../../../entities/enemies/Enemy.js";import EnemyStateName from"../../../enums/EnemyStateName.js";import MinotaurStateName from"../../../enums/MinotaurStateName.js";import{timer}from"../../../globals.js";export default class MinotaurSpinState extends State{static DURATION=2;static COOLDOWN=10;constructor(t,i){super(),this.enemy=t,this.animation=i,this.spinHitbox=new Hitbox(t.dimensions.x/2,t.dimensions.y/2-t.dimensions.y/4,t.dimensions.x,t.dimensions.y),this.oldHitbox=t.hitboxOffsets}enter(){this.enemy.currentAnimation=this.animation[this.enemy.direction],this.enemy.isInvulnerable=!0,this.enemy.damage++,this.enemy.isSolid=!1,this.enemy.hitboxOffsets=this.spinHitbox,this.enemy.canSpin=!1,this.startTimer()}update(t){}startTimer(){this.timer=timer.wait(MinotaurSpinState.DURATION,(()=>{this.enemy.hitboxOffsets=this.oldHitbox,this.enemy.isSolid=!0,this.enemy.isInvulnerable=!1,this.enemy.damage--,this.enemy.changeState(MinotaurStateName.Follow),timer.wait(MinotaurSpinState.COOLDOWN,(()=>{this.enemy.canSpin=!0}))}))}}