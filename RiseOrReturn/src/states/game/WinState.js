import State from"../../../lib/State.js";import GameStateName from"../../enums/GameStateName.js";import ImageName from"../../enums/ImageName.js";import SoundName from"../../enums/SoundName.js";import{CANVAS_HEIGHT,CANVAS_WIDTH,context,images,keys,sounds,stateMachine,timer}from"../../globals.js";export default class WinState extends State{constructor(){super(),this.scroll=new Image,this.scroll.src="../../../RiseOrReturn/assets/images/scroll.jpg"}enter(e){this.level=e.level,sounds.stop(SoundName.MainTheme),sounds.stop(SoundName.MainThemeTrap),sounds.play(SoundName.RiseReturn)}exit(){sounds.stop(SoundName.RiseReturn),sounds.play(SoundName.MainTheme)}update(e){timer.update(e),keys.Enter&&(keys.Enter=!1,stateMachine.change(GameStateName.Transition,{fromState:this,toState:stateMachine.states[GameStateName.HighScoreName],level:this.level}))}render(){context.drawImage(this.scroll,0,0,CANVAS_WIDTH,CANVAS_HEIGHT),context.fillStyle="black",context.textBaseline="middle",context.textAlign="center",context.font="14px Script",context.fillText("You've come so far, at last you've won",CANVAS_WIDTH/2,CANVAS_HEIGHT/2-80),context.fillText("100 floors all said and done",CANVAS_WIDTH/2,CANVAS_HEIGHT/2-65),context.fillText("You killed with ease, not once returned",CANVAS_WIDTH/2,CANVAS_HEIGHT/2-50),context.fillText("You've reached the end, your wish you've earned",CANVAS_WIDTH/2,CANVAS_HEIGHT/2-35),context.fillText("What will it be, no rules surround",CANVAS_WIDTH/2,CANVAS_HEIGHT/2-20),context.fillText("My powers aren't mortal-bound",CANVAS_WIDTH/2,CANVAS_HEIGHT/2-5),context.fillText("From fame, to power, filthy riches",CANVAS_WIDTH/2,CANVAS_HEIGHT/2+10),context.fillText("Flying, never dying, to endless ...witches",CANVAS_WIDTH/2,CANVAS_HEIGHT/2+25),context.fillText("The choice is yours, it's in your hands",CANVAS_WIDTH/2,CANVAS_HEIGHT/2+40),context.fillText("Because your wish is my command",CANVAS_WIDTH/2,CANVAS_HEIGHT/2+55),context.fillText("What will it be, make it your best",CANVAS_WIDTH/2,CANVAS_HEIGHT/2+70),context.fillText("After this wish, I'll be at rest ",CANVAS_WIDTH/2,CANVAS_HEIGHT/2+85)}}