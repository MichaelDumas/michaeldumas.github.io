import State from"../../../lib/State.js";import GameStateName from"../../enums/GameStateName.js";import ImageName from"../../enums/ImageName.js";import SoundName from"../../enums/SoundName.js";import{CANVAS_HEIGHT,CANVAS_WIDTH,context,images,keys,sounds,stateMachine,timer}from"../../globals.js";export default class TitleScreenState extends State{static MAX_MENU_SELECT=2;static PLAY_SELECT=0;static LEADERBOARD_SELECT=1;static RULES_SELECT=2;constructor(){super(),this.selected=0}enter(){sounds.stop(SoundName.GameOver),sounds.play(SoundName.MainTheme)}exit(){}update(e){if(timer.update(e),keys.Enter)switch(keys.Enter=!1,sounds.play(SoundName.Select),this.selected){case 0:stateMachine.change(GameStateName.Transition,{fromState:this,toState:stateMachine.states[GameStateName.Scroll]});break;case 1:stateMachine.change(GameStateName.Transition,{fromState:this,toState:stateMachine.states[GameStateName.HighScore]});break;case 2:stateMachine.change(GameStateName.Transition,{fromState:this,toState:stateMachine.states[GameStateName.Rules]})}keys.w&&(0==this.selected?this.selected=TitleScreenState.MAX_MENU_SELECT:this.selected--,keys.w=!1,sounds.stop(SoundName.Change),sounds.play(SoundName.Change)),keys.s&&(this.selected==TitleScreenState.MAX_MENU_SELECT?this.selected=0:this.selected++,keys.s=!1,sounds.stop(SoundName.Change),sounds.play(SoundName.Change))}render(){images.render(ImageName.Background,0,0,CANVAS_WIDTH,CANVAS_HEIGHT),context.save(),context.font="50px Zelda",context.fillStyle="white",context.textBaseline="middle",context.textAlign="left",context.fillText("Rise",CANVAS_WIDTH/8-20,CANVAS_HEIGHT/4),context.fillText("Or",CANVAS_WIDTH/8,CANVAS_HEIGHT/4+40),context.fillText("Return",CANVAS_WIDTH/8+20,CANVAS_HEIGHT/4+80),context.font="25px Zelda",context.fillStyle=this.selected===TitleScreenState.PLAY_SELECT?"#FF0000":"white",context.fillText("Play",CANVAS_WIDTH-130,CANVAS_HEIGHT/2),context.fillStyle=this.selected===TitleScreenState.LEADERBOARD_SELECT?"#FF0000":"white",context.fillText("Leaderboard",CANVAS_WIDTH-130,CANVAS_HEIGHT/2+40),context.fillStyle=this.selected===TitleScreenState.RULES_SELECT?"#FF0000":"white",context.fillText("Controls",CANVAS_WIDTH-130,CANVAS_HEIGHT/2+80),context.restore()}}